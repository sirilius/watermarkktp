const imageLoader=document.getElementById("inputFile");imageLoader.addEventListener("input",handleImage,!1);const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),signaturePad=new SignaturePad(document.getElementById("canvas"),{backgroundColor:"#fff",penColor:"rgb(0, 0, 0)",minDitstance:"90"}),saveButton=document.getElementById("download"),cancelButton=document.getElementById("reset");function handleImage(e){var t=new FileReader,n="";t.onload=function(e){(n=new Image).onload=function(){var e=canvas.width/n.width,t=canvas.height/n.height,a=Math.min(e,t),i=(canvas.width-n.width*a)/2,c=(canvas.height-n.height*a)/2;ctx.clearRect(0,0,canvas.width,canvas.height),ctx.resetTransform(),signaturePad.backgroundColor="#fff",ctx.drawImage(n,0,0,n.width,n.height,i,c,n.width*a,n.height*a)},n.src=e.target.result,e.target.result,canvas.classList.add("show")},t.readAsDataURL(e.target.files[0])}function resizeCanvas(){var e=Math.max(window.devicePixelRatio||1,1);canvas.width=canvas.offsetWidth*e,canvas.height=canvas.offsetHeight*e,signaturePad.clear()}signaturePad.addEventListener("beginStroke",(()=>{var e=Math.max(window.devicePixelRatio||1,1);ctx.setTransform(e,0,0,e,0,0)})),window.onresize=resizeCanvas,resizeCanvas(),saveButton.addEventListener("click",(function(){const e=signaturePad.toDataURL();saveButton.setAttribute("href",e)})),cancelButton.addEventListener("click",(function(){signaturePad.clear()})),window.onclick=function(e){e.target==document.getElementById("pop-up")&&(document.getElementById("pop-up").style.display="none")},document.getElementsByClassName("nav-bar")[0].onclick=function(){document.getElementById("pop-up").style.display="flex"},document.getElementsByClassName("close-btn")[0].onclick=function(){document.getElementById("pop-up").style.display="none"};const year=document.querySelector(".copyright .year");year.innerText=(new Date).getFullYear();
